# 学習者理解インタビューシステム (MVP)

本システムは、**学習者が口頭で講義内容を説明し、それをLLMがソクラテス式に深掘り質問する**ことで理解度を可視化する学習支援システムのプロトタイプです。

---
## 環境構築
### 必要環境
- Python 3.11

## 目的
- 教材(PDF)から知識ツリーを構築
- 学習者説明を音声入力→テキスト化→Explanationリスト化
- トピックを選び、LLMが1問ずつ深掘り質問
- 回答に基づいてさらに深堀するか判定→「深掘り or 次へ」分岐

## ワークフロー
1. **教材取り込み**
   - PDFからチャンク化→埋め込み保存
   - LLMでノード(トピック)生成→知識ツリーDBへ保存
2. **セッション開始**
   - Whisperで音声→テキスト化
   - 発話をExplanationリストに要約、topicsへマッピング
3. **質問フェーズ**
   - トピック選択（自動or学習者選択）
   - LLMがソクラテス式に1問生成（RAG文脈利用）
   - 回答入力（音声orテキスト）、タイムアウト制御
   - 回答内容を知識ツリーと紐づける（知識ノードID ソクラテスタイプ　回答内容）
4. **判定と分岐**
   - 判定関数（これまでの回答に基づいてスコア付け）
   - スコアに応じて「深掘り」or「次へ」

## UI 構成
- 左：知識ツリー（回答充実度で色分け）
- 右：質問チャット（録音ボタン＋残り時間）
